(this["webpackJsonptrello-min"]=this["webpackJsonptrello-min"]||[]).push([[0],{112:function(e,n,t){e.exports=t(207)},117:function(e,n,t){},118:function(e,n,t){},123:function(e,n,t){},125:function(e,n,t){},171:function(e,n,t){},172:function(e,n,t){},207:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(6),l=t.n(c),o=(t(117),t(92)),u=t(93),s=t(109),i=t(94),d=t(110),m=(t(118),t(2)),p=t(25),f=t(16),b=t(12),E=function(e){var n=e.source,t=e.destination;return function(e,a){var r=function(e){var n=e.columns,t=e.source,a=e.destination,r=t.index,c=t.droppableId,l=a.index,o=a.droppableId,u=parseInt(c.replace("column-","")),s=parseInt(o.replace("column-",""));return n.map((function(e,t){if(s===t){var a=n[u].cards.splice(r,1),c=Object(b.a)(a,1)[0],o=Array.from(n[s].cards);o.splice(l,0,c),e.cards=o}return e}))}({columns:a().columns,source:n,destination:t});return localStorage.setItem("columns",JSON.stringify(r)),e({type:"REORDER_CARDS",columns:r})}},C=t(108),g=(t(123),t(208)),O=(t(124),t(125),Object(m.b)((function(e){return{newCardText:e.newCardText}}),(function(e){return{onAddCard:function(n,t,a){return e(function(e,n){return function(t,a){var r=a(),c=r.columns[n],l=c.cards;""!==e&&null!==e?l.push(e):alert("Set card name please"),c.cards=l;var o=Object(f.a)(r.columns);return o.splice(n,1,c),localStorage.setItem("columns",JSON.stringify(o)),t({type:"ADD_CARD",columns:o,newCardText:""})}}(n,t))},addNewCardText:function(n){return e(function(e){return function(n){return n({type:"ADD_NEW_CARD_TEXT",payload:e})}}(n))},onAddCol:function(n,t){return e(function(e,n){return function(t,a){var r,c=a();return n(!1),r=null!==c.columns?Object(f.a)(c.columns):[],""!==e&&null!==e?r.push({title:e,cards:[]}):alert("Set column name please"),localStorage.setItem("columns",JSON.stringify(r)),t({type:"ADD_COLUMN",columns:r,newCardText:""})}}(n,t))}}}))((function(e){var n=Object(a.useState)(!1),t=Object(b.a)(n,2),c=t[0],l=t[1];return c?r.a.createElement("div",{className:e.isAddingColumn?"adding-card card-is-adding-column":"adding-card"},r.a.createElement("textarea",{onChange:function(n){return e.addNewCardText(n.target.value)},rows:"3",placeholder:"type here...",autoFocus:!0}),r.a.createElement("div",{className:"adding-card-btn-wrapper"},r.a.createElement(g.a,{onClick:function(){return e.isAddingColumn?e.onAddCol(e.newCardText,l):e.onAddCard(e.newCardText,e.index,l)},className:"adding-card-add",type:"primary"},"ADD"),r.a.createElement(C.a,{onClick:function(){return l(!1)},className:"adding-card-close",type:"close"}))):r.a.createElement(g.a,{onClick:function(){return l(!0)},className:e.isAddingColumn?"btn-add btn-is-adding-column":"btn-add",icon:"plus",block:!0},e.text)}))),y=(t(171),t(172),Object(m.b)(null,(function(e){return{setNewCardText:function(n,t,a){return e(function(e,n,t){return function(a,r){var c=r(),l=Object(f.a)(c.columns);return l[n].cards[t]=e,localStorage.setItem("columns",JSON.stringify(l)),a({type:"EDIT_CARD",columns:l})}}(n,t,a))}}}))((function(e){var n=Object(a.useState)(e.label),t=Object(b.a)(n,2),c=t[0],l=t[1],o=Object(a.useCallback)((function(e){null!==e&&(e.focus(),e.setSelectionRange(0,e.value.length))}),[]);return r.a.createElement("div",{className:"card-edit-block"},r.a.createElement("textarea",{ref:o,onChange:function(e){return l(e.target.value)},value:c,rows:"3"}),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(g.a,{onClick:function(){e.setNewCardText(c,e.colIndex,e.cardIndex),e.setIsEdit(!1)},className:"card-edit-block-btn",type:"primary",size:"small"},"OK"),r.a.createElement(C.a,{onClick:function(){l(e.label),e.setIsEdit(!1)},className:"card-edit-block-close",type:"close"})))}))),x=Object(m.b)(null,(function(e){return{onDelCard:function(n,t){return e(function(e,n){return function(t,a){var r=a(),c=r.columns[e];c.cards.splice(n,1);var l=Object(f.a)(r.columns);return l.splice(e,1,c),localStorage.setItem("columns",JSON.stringify(l)),t({type:"DELETE_CARD",columns:l})}}(n,t))}}}))((function(e){var n=Object(a.useState)(!1),t=Object(b.a)(n,2),c=t[0],l=t[1];return r.a.createElement(p.b,{draggableId:"card-".concat(e.colIndex,"-").concat(e.cardIndex),index:e.cardIndex},(function(n){return r.a.createElement("div",Object.assign({className:"card",ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(C.a,{onClick:function(){return e.onDelCard(e.colIndex,e.cardIndex)},className:"card-btn card-close",type:"close"}),r.a.createElement(C.a,{onClick:function(){return l(!c)},className:"card-btn card-edit",type:"edit"}),c?r.a.createElement(y,{colIndex:e.colIndex,cardIndex:e.cardIndex,setIsEdit:l,label:e.label}):r.a.createElement("span",null,e.label))}))})),v=Object(m.b)(null,(function(e){return{onDelCol:function(n){return e(function(e){return function(n,t){var a=t(),r=Object(f.a)(a.columns);return r.splice(e,1),localStorage.setItem("columns",JSON.stringify(r)),n({type:"DELETE_COLUMN",columns:r})}}(n))}}}))((function(e){return r.a.createElement("div",{className:e.empty?e.isAddingColumn?"column add-column":"column empty":"column"},e.empty?r.a.createElement("div",null,!e.isAddingColumn&&r.a.createElement("div",null,r.a.createElement("header",{className:"column__title"},"\u043f\u0432\u0430\u0432\u0430"),r.a.createElement(C.a,{className:"close-column-btn",type:"close"})),r.a.createElement(O,{text:e.isAddingColumn?"Add new column":"Add new card",isAddingColumn:e.isAddingColumn&&!0,index:e.index})):r.a.createElement("div",null,r.a.createElement("header",{className:"column__title"},e.title),r.a.createElement(p.c,{type:"CARDS",droppableId:"column-".concat(e.index)},(function(n){return r.a.createElement("div",Object.assign({},n.droppableProps,{ref:n.innerRef}),r.a.createElement("div",{className:"column__inner"},r.a.createElement("div",{className:"column__items"},e.cards.map((function(n,t){return r.a.createElement(x,{key:t,colIndex:e.index,cardIndex:t,label:n})})),n.placeholder)))})),r.a.createElement(O,{text:"Add new card",index:e.index}),r.a.createElement(C.a,{onClick:function(){return e.onDelCol(e.index)},className:"close-column-btn",type:"close"})))})),D=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(i.a)(n)).call.apply(e,[this].concat(r)))).onDragEnd=function(e){var n=e.source,a=e.destination;!a||n.droppableId===a.droppableId&&n.index===a.index||t.props.reorderCards({source:n,destination:a})},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchData(),this.props.setInitialColumns()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.props.columns?r.a.createElement(p.a,{onDragEnd:this.onDragEnd},this.props.columns.map((function(e,n){return r.a.createElement(v,{title:e.title,cards:e.cards,index:n,key:Math.random(),onReorder:E})}))):null,r.a.createElement(v,{empty:!0,isAddingColumn:!0,key:9999}))}}]),n}(r.a.Component),I=Object(m.b)((function(e){return{columns:e.columns}}),(function(e){return{fetchData:function(){return e((function(e){var n=localStorage.getItem("columns");return e({type:"FETCH_DATA",columns:JSON.parse(n)})}))},reorderCards:function(n){var t=n.source,a=n.destination;return e(E({source:t,destination:a}))},setInitialColumns:function(){return e((function(e){var n=[{title:"Example column 1",cards:["example card 1.1 (draggable)","example card 1.2 (draggable)"]},{title:"Example column 2",cards:["example card 2.1 (draggable)"]}];if(null==localStorage.getItem("columns"))return localStorage.setItem("columns",JSON.stringify(n)),e({type:"SET_INITIAL_COLUMNS",columns:n})}))}}}))(D),A=t(3),N=t(106);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(t,!0).forEach((function(n){Object(N.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w={columns:[],newCardText:null};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_INITIAL_COLUMNS":case"FETCH_DATA":return T({},e,{columns:n.columns});case"ADD_NEW_CARD_TEXT":return T({},e,{newCardText:n.payload});case"ADD_CARD":return T({},e,{columns:n.columns,newCardText:n.newCardText});case"DELETE_CARD":return T({},e,{columns:n.columns});case"ADD_COLUMN":return T({},e,{columns:n.columns,newCardText:n.newCardText});case"DELETE_COLUMN":case"EDIT_CARD":case"REORDER_CARDS":return T({},e,{columns:n.columns});default:return e}},S=t(107),_=Object(A.d)(h,Object(A.a)(S.a));l.a.render(r.a.createElement(m.a,{store:_},r.a.createElement(I,null)),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.0b919379.chunk.js.map