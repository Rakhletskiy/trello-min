{"version":3,"sources":["actions/cards-actions.js","helpers/reorderCards.js","components/button-add/buton-add.js","actions/column-actions.js","components/card-edit/card-edit.js","components/card/card.js","components/column/column.js","components/app/app.js","reducers/trello.js","store.js","index.js"],"names":["reorderCards","source","destination","dispatch","getState","newColumns","state","sourceCardIndex","index","sourceId","droppableId","destinationCardIndex","destinationId","sourceColumnIndex","parseInt","replace","destinationColumnIndex","map","item","currentColumnIndex","cards","splice","sourceCard","destinationCards","Array","from","reorderCardsHelper","columns","localStorage","setItem","JSON","stringify","type","connect","newCardText","onAddCard","setIsAdding","colIndex","updateColumn","newCards","push","addNewCardText","text","payload","onAddCol","colTitle","title","props","useState","isAdding","className","isAddingColumn","onChange","e","target","value","rows","placeholder","autoFocus","onClick","icon","block","setNewCardText","cardIndex","label","inputText","setInputText","measuredRef","useCallback","node","focus","setSelectionRange","length","ref","setIsEdit","size","onDelCard","isEdit","draggableId","provided","innerRef","draggableProps","dragHandleProps","onDelCol","empty","droppableProps","card","key","App","onDragEnd","result","this","fetchData","column","Math","random","onReorder","React","Component","getItem","parse","initialState","trello","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f309d57b.chunk.js","sourcesContent":["import reorderCardsHelper from '../helpers/reorderCards';\r\n\r\nexport const addNewCardText = text => dispatch => dispatch({ type: 'ADD_NEW_CARD_TEXT', payload: text });\r\n\r\nexport const onAddCard = (newCardText, colIndex) => (dispatch, getState) => {\r\n  const state = getState();\r\n\r\n  // copy current column obj\r\n  let updateColumn = state.columns[colIndex];\r\n  let newCards = updateColumn.cards;\r\n\r\n  // push new card to cards array\r\n  if (newCardText !== '' && newCardText !== null) {\r\n    newCards.push(newCardText);\r\n  }\r\n\r\n  updateColumn.cards = newCards;\r\n\r\n  // delete current column and replace it with updating column\r\n  const newColumns = [...state.columns];\r\n  newColumns.splice(colIndex, 1, updateColumn);\r\n\r\n  // set updated columns to storage\r\n  localStorage.setItem('columns', JSON.stringify(newColumns));\r\n\r\n  return dispatch({\r\n    type: 'ADD_CARD',\r\n    columns: newColumns,\r\n    newCardText: ''\r\n  });\r\n};\r\n\r\nexport const onDelCard = (colIndex, cardIndex) => (dispatch, getState) => {\r\n  const state = getState();\r\n\r\n  // copy current column obj\r\n  let updateColumn = state.columns[colIndex];\r\n\r\n  // delete clicked card\r\n  updateColumn.cards.splice(cardIndex, 1);\r\n\r\n  // delete current column and replace it with updating column\r\n  const newColumns = [...state.columns];\r\n  newColumns.splice(colIndex, 1, updateColumn);\r\n\r\n  localStorage.setItem('columns', JSON.stringify(newColumns));\r\n\r\n  return dispatch({\r\n    type: 'DELETE_CARD',\r\n    columns: newColumns\r\n  });\r\n};\r\n\r\nexport const setNewCardText = (text, colIndex, cardIndex) => (dispatch, getState) => {\r\n  const state = getState();\r\n  // copy current columns array\r\n  let newColumns = [...state.columns];\r\n\r\n  // rewrite card item\r\n  newColumns[colIndex].cards[cardIndex] = text;\r\n\r\n  // update localstorage\r\n  localStorage.setItem('columns', JSON.stringify(newColumns));\r\n\r\n  return dispatch({\r\n    type: 'EDIT_CARD',\r\n    columns: newColumns\r\n  });\r\n};\r\n\r\nexport const reorderCards = ({ source, destination }) => (dispatch, getState) => {\r\n  const state = getState();\r\n\r\n  // get reordered columns array\r\n  const newColumns = reorderCardsHelper({\r\n    state: state.columns,\r\n    source,\r\n    destination\r\n  });\r\n\r\n  // set to the storage\r\n  localStorage.setItem('columns', JSON.stringify(newColumns));\r\n\r\n  return dispatch({\r\n    type: 'REORDER_CARDS',\r\n    columns: newColumns\r\n  });\r\n};","export default ({ state, source, destination }) => {\r\n  const { index: sourceCardIndex, droppableId: sourceId } = source;\r\n  const { index: destinationCardIndex, droppableId: destinationId } = destination;\r\n\r\n  // get indexes of source and destination columns\r\n  const sourceColumnIndex = parseInt(sourceId.replace('column-', ''));\r\n  const destinationColumnIndex = parseInt(destinationId.replace('column-', ''));\r\n\r\n  return state.map((item, currentColumnIndex) => {\r\n    if (destinationColumnIndex === currentColumnIndex) {\r\n      // get active card\r\n      const [sourceCard] = state[sourceColumnIndex].cards.splice(sourceCardIndex, 1);\r\n\r\n      // get destination cards array\r\n      const destinationCards = Array.from(state[destinationColumnIndex].cards);\r\n\r\n      // put source card in the destination array\r\n      // to the right place\r\n      destinationCards.splice(destinationCardIndex, 0, sourceCard);\r\n\r\n      // update cards array\r\n      item.cards = destinationCards;\r\n    }\r\n\r\n    return item;\r\n  });\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Button, Icon } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { onAddCard, onAddCol, addNewCardText } from '../../actions';\r\n\r\nimport './button-add.sass';\r\n\r\nconst ButtonAdd = props => {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n\r\n  return isAdding ? (\r\n    <div className={props.isAddingColumn ? 'adding-card card-is-adding-column' : 'adding-card'}>\r\n      <textarea onChange={e => props.addNewCardText(e.target.value)} rows='3' placeholder='type here...' autoFocus></textarea>\r\n      <div className='adding-card-btn-wrapper'>\r\n        <Button\r\n          onClick={() => (!props.isAddingColumn ? props.onAddCard(props.newCardText, props.index, setIsAdding) : props.onAddCol(props.newCardText, setIsAdding))}\r\n          className='adding-card-add'\r\n          type='primary'\r\n        >\r\n          ADD\r\n        </Button>\r\n        <Icon onClick={() => setIsAdding(false)} className='adding-card-close' type='close' />\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <Button onClick={() => setIsAdding(true)} className={props.isAddingColumn ? 'btn-add btn-is-adding-column' : 'btn-add'} icon='plus' block>\r\n      {props.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    newCardText: state.newCardText\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAddCard: (newCardText, index, setIsAdding) => dispatch(onAddCard(newCardText, index, setIsAdding)),\r\n    addNewCardText: text => dispatch(addNewCardText(text)),\r\n    onAddCol: (text, setIsAdding) => dispatch(onAddCol(text, setIsAdding))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonAdd);\r\n","export const fetchData = () => dispatch => {\r\n  const columns = localStorage.getItem('columns');\r\n  return dispatch({\r\n    type: 'FETCH_DATA',\r\n    columns: JSON.parse(columns)\r\n  });\r\n};\r\n\r\nexport const onAddCol = (colTitle, setIsAdding) => (dispatch, getState) => {\r\n  const state = getState();\r\n\r\n  setIsAdding(false);\r\n\r\n  // copy columns array\r\n  var newColumns;\r\n\r\n  if (state.columns !== null) {\r\n    newColumns = [...state.columns];\r\n  } else {\r\n    newColumns = [];\r\n  }\r\n\r\n  // push new column in temporary array\r\n  newColumns.push({ title: colTitle, cards: [] });\r\n\r\n  localStorage.setItem('columns', JSON.stringify(newColumns));\r\n\r\n  return dispatch({\r\n    type: 'ADD_COLUMN',\r\n    columns: newColumns\r\n  });\r\n};\r\n\r\nexport const onDelCol = colIndex => (dispatch, getState) => {\r\n  const state = getState();\r\n\r\n  // copy current columns array\r\n  let newColumns = [...state.columns];\r\n\r\n  // delete clicked column\r\n  newColumns.splice(colIndex, 1);\r\n\r\n  localStorage.setItem('columns', JSON.stringify(newColumns));\r\n\r\n  return dispatch({\r\n    type: 'DELETE_COLUMN',\r\n    columns: newColumns\r\n  });\r\n};\r\n\r\n\r\n","import React, { useCallback, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Icon, Button } from 'antd';\r\n\r\nimport { setNewCardText } from '../../actions';\r\n\r\nimport './card-edit.sass';\r\n\r\nconst CardEditBlock = props => {\r\n  const [inputText, setInputText] = useState(props.label);\r\n\r\n  const measuredRef = useCallback(node => {\r\n    if (node !== null) {\r\n      node.focus();\r\n      node.setSelectionRange(0, node.value.length);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className='card-edit-block'>\r\n      <textarea ref={measuredRef} onChange={e => setInputText(e.target.value)} value={inputText} rows='3'></textarea>\r\n      <div className='btn-wrapper'>\r\n        <Button\r\n          onClick={() => {\r\n            props.setNewCardText(inputText, props.colIndex, props.cardIndex);\r\n            props.setIsEdit(false);\r\n          }}\r\n          className='card-edit-block-btn'\r\n          type='primary'\r\n          size='small'\r\n        >\r\n          OK\r\n        </Button>\r\n        <Icon\r\n          onClick={() => {\r\n            setInputText(props.label);\r\n            props.setIsEdit(false);\r\n          }}\r\n          className='card-edit-block-close'\r\n          type='close'\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setNewCardText: (text, colIndex, cardIndex) => dispatch(setNewCardText(text, colIndex, cardIndex))\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(CardEditBlock);\r\n","import React, { useState } from 'react';\r\nimport { Icon } from 'antd';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { onDelCard } from '../../actions';\r\n\r\nimport './card.sass';\r\nimport CardEditBlock from '../card-edit/card-edit';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\n\r\nconst Card = props => {\r\n  const [isEdit, setIsEdit] = useState(false);\r\n\r\n  return (\r\n    <Draggable draggableId={`card-${props.colIndex}-${props.cardIndex}`} index={props.cardIndex}>\r\n      {provided => (\r\n        <div className='card' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\r\n          <Icon onClick={() => props.onDelCard(props.colIndex, props.cardIndex)} className='card-btn card-close' type='close' />\r\n          <Icon onClick={() => setIsEdit(!isEdit)} className='card-btn card-edit' type='edit' />\r\n          {isEdit ? <CardEditBlock colIndex={props.colIndex} cardIndex={props.cardIndex} setIsEdit={setIsEdit} label={props.label} /> : <span>{props.label}</span>}\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onDelCard: (colIndex, cardIndex) => dispatch(onDelCard(colIndex, cardIndex))\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Card);\r\n","import React from 'react';\r\nimport { Icon } from 'antd';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { onDelCol } from '../../actions';\r\n\r\nimport './column.sass';\r\nimport ButtonAdd from '../button-add/buton-add';\r\nimport Card from '../card/card';\r\n\r\nconst Column = props => {\r\n  return (\r\n    <div className={!props.empty ? 'column' : !props.isAddingColumn ? 'column empty' : 'column add-column'}>\r\n      {!props.empty ? (\r\n        <div>\r\n          <header className='column__title'>{props.title}</header>\r\n\r\n          <Droppable type='CARDS' droppableId={`column-${props.index}`}>\r\n            {provided => (\r\n              <div {...provided.droppableProps} ref={provided.innerRef}>\r\n                <div className='column__inner'>\r\n                  <div className='column__items'>\r\n                    {props.cards.map((card, index) => (\r\n                      <Card key={index} colIndex={props.index} cardIndex={index} label={card}></Card>\r\n                    ))}\r\n                    {provided.placeholder}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n          <ButtonAdd text={'Add new card'} index={props.index} />\r\n          <Icon onClick={() => props.onDelCol(props.index)} className='close-column-btn' type='close' />\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {!props.isAddingColumn && (\r\n            <div>\r\n              <header className='column__title'>пвава</header>\r\n              <Icon className='close-column-btn' type='close' />\r\n            </div>\r\n          )}\r\n          <ButtonAdd text={props.isAddingColumn ? 'Add new column' : 'Add new card'} isAddingColumn={props.isAddingColumn && true} index={props.index} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onDelCol: colIndex => dispatch(onDelCol(colIndex))\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Column);\r\n","import React from 'react';\nimport './app.sass';\nimport { connect } from 'react-redux';\nimport { DragDropContext } from 'react-beautiful-dnd';\n\nimport { fetchData, reorderCards } from '../../actions';\n\nimport Column from '../column/column';\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.fetchData();\n  }\n\n  onDragEnd = result => {\n    const { source, destination } = result;\n    if (!destination || (source.droppableId === destination.droppableId && source.index === destination.index)) {\n      return;\n    }\n\n    this.props.reorderCards({\n      source,\n      destination\n    });\n  };\n\n  render() {\n    return (\n      <div className='App'>\n        {this.props.columns ? (\n          <DragDropContext onDragEnd={this.onDragEnd}>\n            {this.props.columns.map((column, index) => (\n              <Column title={column.title} cards={column.cards} index={index} key={Math.random()} onReorder={reorderCards} />\n            ))}\n          </DragDropContext>\n        ) : null}\n        <Column empty isAddingColumn key={9999} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    columns: state.columns\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchData: () => dispatch(fetchData()),\n    reorderCards: ({ source, destination }) => dispatch(reorderCards({ source, destination }))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const initialState = {\r\n  columns: [],\r\n  newCardText: null\r\n};\r\n\r\nfunction trello(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'FETCH_DATA':\r\n      return {\r\n        ...state,\r\n        columns: action.columns\r\n      };\r\n    case 'ADD_NEW_CARD_TEXT':\r\n      return {\r\n        ...state,\r\n        newCardText: action.payload\r\n      };\r\n    case 'ADD_CARD':\r\n      return {\r\n        ...state,\r\n        columns: action.columns,\r\n        newCardText: action.newCardText\r\n      };\r\n    case 'DELETE_CARD':\r\n      return {\r\n        ...state,\r\n        columns: action.columns\r\n      };\r\n    case 'ADD_COLUMN':\r\n      return {\r\n        ...state,\r\n        columns: action.columns\r\n      };\r\n    case 'DELETE_COLUMN':\r\n      return {\r\n        ...state,\r\n        columns: action.columns\r\n      };\r\n    case 'EDIT_CARD':\r\n      return {\r\n        ...state,\r\n        columns: action.columns\r\n      };\r\n    case 'REORDER_CARDS':\r\n      return {\r\n        ...state,\r\n        columns: action.columns\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default trello;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport trello from './reducers/trello';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(trello, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/app/app\";\nimport { Provider } from \"react-redux\";\nimport store from './store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}